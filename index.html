<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>YourComps — Premium Competitions</title>
  <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body>

<header class="site-header">
  <h1 class="logo">YourComps</h1>

  <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu">
    ☰
  </button>

  <nav id="mobileNav">
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="services.html">Services</a>
    <a href="contact.html">Contact</a>
    <a href="dashboard.html">Dashboard</a>
    <a href="create-competition.html">Start Competition</a>
  </nav>
</header>

<section class="hero">
  <div class="hero-inner">
    <h2>Win Luxury Prizes — Fairly & Transparently</h2>
    <p>Premium prize competitions built for high-value rewards.</p>

    <div class="cta-row">
      <a class="btn-cta" href="create-competition.html">Start a Competition</a>
      <a class="btn-outline" href="about.html">How It Works</a>
    </div>
  </div>
</section>

<main class="page-container">
  <h3 class="section-title">Latest Competitions</h3>

  <div class="cards-grid">

    <!-- Rolex -->
    <article class="card fade-up">
      <div class="card-img">
        <img src="https://via.placeholder.com/800x450.png?text=Rolex+Submariner" alt="Rolex">
      </div>

      <div class="card-title">Rolex Submariner — Limited</div>
      <div class="card-desc">Brand new, unworn. Full box & papers.</div>

      <div class="card-meta">
        <span class="pill">£2.00 per ticket</span>
        <div class="card-actions">
          <button
            class="btn-cta enter-btn"
            data-priceid="price_1SoPse2fDjX9ON8hXaQknmrU"
            data-title="Rolex Submariner"
            data-qid="time_math">
            Enter
          </button>
        </div>
      </div>
    </article>

    <!-- Tesla -->
    <article class="card fade-up">
      <div class="card-img">
        <img src="https://via.placeholder.com/800x450.png?text=Tesla+Model+3" alt="Tesla">
      </div>

      <div class="card-title">Tesla Model 3 — Performance</div>
      <div class="card-desc">Near-new performance model.</div>

      <div class="card-meta">
        <span class="pill">£5.00 per ticket</span>
        <div class="card-actions">
          <button
            class="btn-cta enter-btn"
            data-priceid="price_1SpVBA2fDjX9ON8hYK6XtahI"
            data-title="Tesla Model 3 Performance"
            data-qid="simple_addition">
            Enter
          </button>
        </div>
      </div>
    </article>

  </div>
</main>

<footer class="site-footer">
  © <span id="year"></span> YourComps
</footer>

<!-- Mobile menu + footer year -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const toggle = document.getElementById("menuToggle");
  const nav = document.getElementById("mobileNav");

  if (toggle && nav) {
    toggle.addEventListener("click", () => {
      nav.classList.toggle("active");
    });
  }

  const year = document.getElementById("year");
  if (year) year.textContent = new Date().getFullYear();
});
</script>

<!-- ✅ SINGLE Enter handler (THIS IS THE ONLY ONE YOU NEED) -->
<script>
document.addEventListener("click", (e) => {
  const btn = e.target.closest(".enter-btn");
  if (!btn) return;

  const priceId = btn.dataset.priceid;
  const title = btn.dataset.title;
  const qid = btn.dataset.qid;
  const v = Date.now().toString(); // unique visit token

  window.location.href =
    `checkout.html?priceId=${encodeURIComponent(priceId)}&title=${encodeURIComponent(title)}&qid=${encodeURIComponent(qid)}&v=${encodeURIComponent(v)}`;
});
</script>

</body>
</html>
