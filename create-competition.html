<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Create Competition — YourComps</title>
  <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body>

<header>
  <h1>YourComps</h1>
  <button class="menu-toggle" onclick="toggleMenu()">☰</button>
  <nav id="mobileNav">
    <a href="index.html">Home</a>
    <a href="dashboard.html">Dashboard</a>
    <a href="create-competition.html">Start Competition</a>
    <a href="contact.html">Contact</a>
  </nav>
</header>

<main class="page-container">
  <div class="form-card">
    <h2 style="color:var(--gold);">Create a New Competition</h2>
    <p class="small-muted">Fill the form below to create a competition. Required fields are marked *</p>

    <form id="compForm" enctype="multipart/form-data" class="comp-form">
      <!-- PRIZE DETAILS -->
      <div class="form-section">
        <h3>Prize Details</h3>
        <label for="title">Prize Title *</label>
        <input id="title" name="title" type="text" required placeholder="e.g. Apple MacBook Pro 16-inch">

        <label for="desc">Description *</label>
        <textarea id="desc" name="description" required placeholder="Describe the prize and condition"></textarea>

        <label for="category">Category *</label>
        <select id="category" name="category" required>
          <option value="">Select category…</option>
          <option>Electronics</option>
          <option>Vehicles</option>
          <option>Luxury Items</option>
          <option>Holidays</option>
          <option>Other</option>
        </select>
      </div>

      <!-- IMAGES -->
      <div class="form-section">
        <h3>Images</h3>
        <label>Upload images (max 6)</label>
        <input id="images" type="file" accept="image/*" multiple>
        <div id="preview" class="preview-grid"></div>
        <div class="small-muted">Tip: Use high-quality photos. Drag & drop not supported in this simple version.</div>
      </div>

      <!-- SETTINGS -->
      <div class="form-section">
        <h3>Competition Settings</h3>
        <div class="form-row">
          <div style="flex:1">
            <label for="price">Ticket price (£) *</label>
            <input id="price" name="price" type="number" step="0.01" min="0" required placeholder="2.50">
          </div>
          <div style="flex:1">
            <label for="max">Max tickets *</label>
            <input id="max" name="max" type="number" min="1" required placeholder="500">
          </div>
        </div>

        <label for="perperson">Max per person</label>
        <input id="perperson" name="perperson" type="number" placeholder="e.g. 5">

        <label for="enddate">End date *</label>
        <input id="enddate" name="enddate" type="date" required>
      </div>

      <!-- RULES -->
      <div class="form-section">
        <h3>Rules & Confirmation</h3>
        <label for="rules">Rules (optional)</label>
        <textarea id="rules" name="rules" placeholder="Any special rules"></textarea>

        <label style="margin-top:12px">
          <input id="confirm" type="checkbox" required> I confirm the prize is genuine and I'm eligible to run this competition.
        </label>
      </div>

      <div style="margin-top:8px">
        <button type="submit" class="btn-primary">Create Competition</button>
      </div>
    </form>
  </div>
</main>

<footer>
  © <span id="year2"></span> YourComps
</footer>

<script>
  // mobile nav
  function toggleMenu(){ document.getElementById('mobileNav').classList.toggle('active'); }

  // image previews
  const imagesEl = document.getElementById('images');
  const previewEl = document.getElementById('preview');
  imagesEl && imagesEl.addEventListener('change', (e) => {
    previewEl.innerHTML = '';
    const files = Array.from(e.target.files).slice(0,6);
    files.forEach(file => {
      const reader = new FileReader();
      const wrap = document.createElement('div'); wrap.className='preview-thumb';
      reader.onload = ev => {
        const img = document.createElement('img'); img.src = ev.target.result;
        wrap.appendChild(img); previewEl.appendChild(wrap);
      };
      reader.readAsDataURL(file);
    });
  });

  // simple client validation + demo submit handler
  const form = document.getElementById('compForm');
  form && form.addEventListener('submit', (e) => {
    e.preventDefault();
    // basic checks
    const title = document.getElementById('title').value.trim();
    const price = parseFloat(document.getElementById('price').value);
    const max = parseInt(document.getElementById('max').value,10);
    const end = document.getElementById('enddate').value;
    if(!title || !price || !max || !end) {
      alert('Please complete required fields.');
      return;
    }
    // Demo behaviour: show success and reset (replace with API call)
    alert('Competition created (demo). Next step: send data to your backend.');
    form.reset(); previewEl.innerHTML='';
  });

  // year
  document.getElementById('year2').textContent = new Date().getFullYear();
</script>

</body>
</html>
